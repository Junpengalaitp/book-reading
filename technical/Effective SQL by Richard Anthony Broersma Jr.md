# 第一章 数据模型设计
* 想要轻松写出高效的SQL, 要有优秀的数据库设计。如果数据库设计违反了本章中的原则，应当找到问题并修复。
* 如果数据库不在你的控制之下，至少你要能够理解你面对的问题是什么，然后再把你认为可行的方案解释给有设计权力的人。
* 即使你没办法改变设计，在SQL中也有其他的变通方案可以解决某些问题。

## 第1条：确保所有表都有主键

## 第2条：避免存储冗余数据

## 第3条：消除重复数据组

## 第4条：每行只存储一个属性

## 第5条：理解为什么存储计算列通常有害无益
* 在数仓中可行，ods中会带来性能问题

## 第6条：定义外键以确保引用完整性

## 第7条：确保表间关系的合理性

## 第8条：当第三范式不够时，采用更多范式

## 第9条：非规范化数据仓库

# 第二章 可编程性与索引设计

## 第10条：创建索引时空值的影响

## 第11条：创建索引是谨慎考虑以最小化索引和数据扫描

## 第12条：索引不只是过滤

## 第13条：不要过度使用触发器

## 第14条：使用过滤索引包含或排除数据子集

## 第15条：使用声明式约束替代编码校验

## 第16条：了解数据库使用的SQL方言并编写相应的代码

## 第17条：了解何时在索引中使用计算结果

# 第3章 当你不能改变设计时

## 第18条：使用视图（view）来简化不能更改的内容

## 第19条：使用ETL将非关系数据库转化为有用的信息

## 第20条：创建汇总表并维护

## 第21条：使用UNION语句将非规范化数据列转行
* SELECT Category, 'OCT' AS sales_month, OctQuantity AS Quantity, OctSales AS SalesAmt
  FROM SalesSummary
  UNION 
  SELECT Category, 'Nov', NovQuantity, NovSales
  FROM SalesSummary
  UNION 
  SELECT Category, 'Dec', DecQuantity, DecSales
  FROM SalesSummary

# 第4章 过滤与查找数据

## 第22条：了解关系代数及其如何在SQL中实现
* 选择：选择行
* 投影：选择列
* 连接
* 交集
* 笛卡尔积：cross join
* 并集
* 除
* 差集：EXCEPT

## 第23条：查找不匹配或缺失的记录
* NOT IN 
* NOT EXISTS
* LEFT JOIN

## 第24条：了解何时使用CASE解决问题
* 在任何需要将表达式作为SELECT子句的返回列，或作为WHERE和HAVING子句的搜索条件时


## 第25条：了解解决多条件查询的技术
* 使用函数正确地解决复合条件

## 第26条：如需完美匹配，先对数据进行除操作
* 查找符合给定工作所有要求的所有应职者
* 列出可以提供构造组件零件的所有供应商
* 显示订购某一套产品的所有客户



